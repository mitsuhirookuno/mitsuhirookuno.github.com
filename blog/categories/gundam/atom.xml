<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Gundam | バトルプログラマー＠すま Blog]]></title>
  <link href="http://mitsuhirookuno.github.com/blog/categories/gundam/atom.xml" rel="self"/>
  <link href="http://mitsuhirookuno.github.com/"/>
  <updated>2012-10-09T00:01:13+09:00</updated>
  <id>http://mitsuhirookuno.github.com/</id>
  <author>
    <name><![CDATA[Mitsuhiro Okuno]]></name>
    <email><![CDATA[mitsuhiro.okuno＠gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[ズゴック豆腐を買いました]]></title>
    <link href="http://mitsuhirookuno.github.com/blog/2012/10/08/zgok-doufu/"/>
    <updated>2012-10-08T22:39:00+09:00</updated>
    <id>http://mitsuhirookuno.github.com/blog/2012/10/08/zgok-doufu</id>
    <content type="html"><![CDATA[<p><img src="https://dl.dropbox.com/u/15789065/Octopress/20121008/CameraZOOM-20121003210602748.jpg" title="ズゴック豆腐" alt="ズゴック豆腐" /></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span> (svnhook.rb)</span> <a href='/downloads/code/sample/svnhook.rb'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='rb'><span class='line'><span class="c1">#!/usr/bin/env ruby</span>
</span><span class='line'>
</span><span class='line'><span class="no">PATH_SVNLOOK</span><span class="o">=</span><span class="s1">&#39;/usr/local/subversion-1.6.11/bin/svnlook&#39;</span>
</span><span class='line'><span class="no">MATCH_PATH_AND_JENKINS_URL_PAIR</span> <span class="o">=</span> <span class="o">[</span>
</span><span class='line'>  <span class="p">{</span> <span class="ss">:match_path</span>  <span class="o">=&gt;</span> <span class="no">Regexp</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s1">&#39;trunk/mdcs2012/src/logic/Calyin/&#39;</span><span class="p">),</span>
</span><span class='line'>    <span class="ss">:jenkins_url</span> <span class="o">=&gt;</span> <span class="s1">&#39;http://zida01d/jenkins/job/Calyin/build?delay=0sec&#39;</span> <span class="p">},</span>
</span><span class='line'>  <span class="p">{</span> <span class="ss">:match_path</span>  <span class="o">=&gt;</span> <span class="no">Regexp</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s1">&#39;trunk/mdcs2012/src/logic/Mdcs/&#39;</span><span class="p">),</span>
</span><span class='line'>    <span class="ss">:jenkins_url</span> <span class="o">=&gt;</span> <span class="s1">&#39;http://zida01d/jenkins/job/Mdcs/build?delay=0sec&#39;</span> <span class="p">},</span>
</span><span class='line'>  <span class="p">{</span> <span class="ss">:match_path</span>  <span class="o">=&gt;</span> <span class="no">Regexp</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s1">&#39;trunk/mdcs2012/src/logic/db/&#39;</span><span class="p">),</span>
</span><span class='line'>    <span class="ss">:jenkins_url</span> <span class="o">=&gt;</span> <span class="s1">&#39;http://zida01d/jenkins/job/mdcs_db/build?delay=0sec&#39;</span> <span class="p">}</span>
</span><span class='line'><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">changed_output</span> <span class="o">=</span> <span class="sb">`</span><span class="si">#{</span><span class="no">PATH_SVNLOOK</span><span class="si">}</span><span class="sb"> changed </span><span class="si">#{</span><span class="no">ARGV</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="si">}</span><span class="sb"> -r </span><span class="si">#{</span><span class="no">ARGV</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="si">}</span><span class="sb">`</span>
</span><span class='line'><span class="no">MATCH_PATH_AND_JENKINS_URL_PAIR</span><span class="o">.</span><span class="n">each</span><span class="p">{</span> <span class="o">|</span><span class="n">pair</span><span class="o">|</span>
</span><span class='line'>  <span class="sb">`curl </span><span class="si">#{</span><span class="n">pair</span><span class="o">[</span><span class="ss">:jenkins_url</span><span class="o">]</span><span class="si">}</span><span class="sb">`</span> <span class="k">if</span> <span class="n">changed_output</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pair</span><span class="o">[</span><span class="ss">:match_path</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
</feed>
